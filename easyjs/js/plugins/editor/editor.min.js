(function(e){e.editor=e.editor||{};e.editor.defaults={resize:"none",upload:false,width:"800px",height:"400px",minWidth:"500px",minHeight:"200px",designMode:true,toolbar:"default",noDisableItems:[],formatHTML:true,theme:"default",language:"zh_CN",basePath:easyloader.base,paste:2,dialogType:"page",mode:true,afterCreate:null,afterChange:null,otherEvent:{},uploadUrl:"/upload/upload.do",flashUpload:false,mediaUpload:false,fileUpload:false,fileManager:false,uploadParams:{}};e.fn.kindeditor=function(a){var t;this.each(function(){a=e.extend({},e.editor.defaults,a||{});var l=e(this);var r=l.attr("id");if(r==""){alert("缺少容器ID!");return}var o={init:function(){var t={};var l=0;if(a.resize=="xy"){l=2}else if(a.resize=="y"){l=1}var r=null;if(a.afterCreate&&typeof a.afterCreate=="string"){r=e.util.decode(a.afterCreate)}var o=null;if(a.afterChange&&typeof a.afterChange=="string"){o=e.util.decode(a.afterChange)}var i=a.basePath+a.uploadUrl;var d=e.editor.toolbar[a.toolbar];if(!d||d.length==0){d=e.editor.toolbar["default"]}t.resizeType=l;t.allowPreviewEmoticons=true;t.allowImageUpload=a.upload;t.width=a.width;t.height=a.height;t.designMode=a.designMode;if(a.noDisableItems&&a.noDisableItems.length>0){t.noDisableItems=a.noDisableItems}t.wellFormatMode=a.formatHTML;t.themeType=a.theme;t.langType=a.language;t.basePath=a.basePath+"kindeditor/";t.newlineTag="br";t.pasteType=a.paste;t.dialogAlignType=a.dialogType;t.shadowMode=a.mode;t.afterCreate=r;t.afterChange=o;t.uploadJson=i;t.allowFileManager=a.fileManager;t.allowFlashUpload=a.flashUpload;t.allowMediaUpload=a.mediaUpload;t.allowFileUpload=a.fileUpload;t.fullscreenShortcut=false;t.extraFileUploadParams=a.uploadParams;t.items=d;return t},create:function(){var e=o.init();return KindEditor.create('textarea[id="'+r+'"]',e)}};t=o.create()});return t}})(jQuery);