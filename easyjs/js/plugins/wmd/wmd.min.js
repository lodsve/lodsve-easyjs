(function(e){e.wmd=e.wmd||{};e.wmd.defaultWmdLocal={bold:"粗体 <strong> Ctrl+B",boldexample:"strong text",italic:"斜体 <em> Ctrl+I",italicexample:"emphasized text",link:"超级链接 <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://sunhao-java.vicp.cc/ "optional title"</p>',quote:"引用文字 <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"代码 <pre><code> Ctrl+K",codeexample:"enter code here",image:"图片 <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"编号 <ol> Ctrl+O",ulist:"项目符号 <ul> Ctrl+U",litem:"列表",heading:"标题 <h1>/<h2> Ctrl+H",headingexample:"标题",hr:"水平线 <hr> Ctrl+R",undo:"后退 - Ctrl+Z",redo:"前进 - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"帮助"};e.wmd.defaults={helpButton:{handler:function(){window.open("http://www.appinn.com/markdown/")},title:"帮助"},width:500,height:450,preview:true,wmdCls:"wmd-input",previewCls:"wmd-preview",strings:e.wmd.defaultWmdLocal};e.fn.wmd=function(t){this.each(function(){t=e.extend({},e.wmd.defaults,t||{});var i=e(this);var r=i.attr("id");var l=e('<div id="wmd-preview-'+r+'"></div>');var a={init:function(){var e=new Markdown.Converter;var i={};i.helpButton=t.helpButton;i.strings=t.strings;var l=new Markdown.Editor(e,"-"+r,i);l.run()},preview:function(){var t=[];t.push('<li id="preview-tab-button" class="wmd-button" title="查看预览" style="right: 100px;">');t.push('   <span class="wmd-blog-prev">预览切换</span>');t.push("</li>");var i=e(t.join(""));e("#wmd-help-button-content").before(i);this.addPreviewEvent(i)},addPreviewEvent:function(e){e.click(function(){i.toggle();l.toggle()})}};var d=t.width;if(d<500){d=500}var n=e('<div class="wmd-panel" style="height: '+t.height+"px;width: "+d+'px"></div>');i.wrap(n);i.addClass(t.wmdCls);i.attr("id","wmd-input-"+r);i.before('<div id="wmd-button-bar-'+r+'"></div>');i.after(l);if(t.preview){i.css("width","48%").css("float","left").css("margin-right","1%");l.css("width","48%").css("float","left");l.addClass(t.previewCls)}else{l.hide();i.css("width","100%");l.css("width","100%");l.addClass(t.previewCls)}a.init();if(!t.preview)a.preview()})}})(jQuery);