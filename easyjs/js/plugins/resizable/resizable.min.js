(function(e){e.ligerDefaults=e.ligerDefaults||{};e.ligerDefaults.Resizable={handles:"n, e, s, w, ne, se, sw, nw",maxWidth:2e3,maxHeight:2e3,minWidth:20,minHeight:20,onStartResize:function(e){},onResize:function(e){},onStopResize:function(e){},onEndResize:null};e.fn.ligerResizable=function(t){return this.each(function(){t=e.extend({},e.ligerDefaults.Resizable,t||{});var i={init:function(){i.target.append('<div class="l-resizable"></div>');var r=t.handles.split(",");for(var s=0;s<r.length;s++){switch(r[s].replace(/(^\s*)|(\s*$)/g,"")){case"nw":i.target.append('<div class="l-resizable-h-l" direction="nw"></div>');break;case"ne":i.target.append('<div class="l-resizable-h-r" direction="ne"></div>');break;case"n":i.target.append('<div class="l-resizable-h-c" direction="n"></div>');break;case"w":i.target.append('<div class="l-resizable-c-l" direction="w"></div>');break;case"e":i.target.append('<div class="l-resizable-c-r" direction="e"></div>');break;case"sw":i.target.append('<div class="l-resizable-f-l" direction="sw"></div>');break;case"se":i.target.append('<div class="l-resizable-f-r" direction="se"></div>');break;case"s":i.target.append('<div class="l-resizable-f-c" direction="s"></div>');break}}e("> .l-resizable-h-c , > .l-resizable-f-c",i.target).width(i.target.width());e("> .l-resizable-c-l , > .l-resizable-c-r",i.target).height(i.target.height());i.target.resizable=e("> .l-resizable",i.target)},start:function(r,s){if(e.browser.msie||e.browser.safari)e("body").bind("selectstart",function(){return false});e(".l-window-mask-nobackground").remove();e("<div class='l-window-mask-nobackground' style='display: block;'></div>").appendTo(e("body"));i.target.resizable.css({width:i.target.width(),height:i.target.height(),left:0,top:0});i.current={dir:s,left:i.target.offset().left,top:i.target.offset().top,width:i.target.width(),height:i.target.height()};e(document).bind("mouseup",i.stop);e(document).bind("mousemove",i.drag);i.target.resizable.show();if(t.onStartResize)t.onStartResize(i.current,r)},drag:function(r){var s=i.current.dir;var n=i.target.resizable[0];var a=i.current.width;var d=i.current.height;var c=(r.pageX||r.screenX)-i.current.left;var f=(r.pageY||r.clientY)-i.current.top;if(s.indexOf("e")>=0)c-=a;if(s.indexOf("s")>=0)f-=d;if(s!="n"&&s!="s"){a+=s.indexOf("w")>=0?-c:c}if(a>=t.minWidth){if(s.indexOf("w")>=0){n.style.left=c+"px"}if(s!="n"&&s!="s"){n.style.width=a+"px"}}if(s!="w"&&s!="e"){d+=s.indexOf("n")>=0?-f:f}if(d>=t.minHeight){if(s.indexOf("n")>=0){n.style.top=f+"px"}if(s!="w"&&s!="e"){n.style.height=d+"px"}}i.current.newWidth=a;i.current.newHeight=d;i.current.diffTop=parseInt(n.style.top);if(isNaN(i.current.diffTop))i.current.diffTop=0;i.current.diffLeft=parseInt(n.style.left);if(isNaN(i.current.diffLeft))i.current.diffLeft=0;e("body").css("cursor",s+"-resize");if(t.onResize)t.onResize(i.current,r)},stop:function(r){if(e.browser.msie||e.browser.safari)e("body").unbind("selectstart");e(".l-window-mask-nobackground").remove();if(!t.onStopResize)i.applyResize();else if(t.onStopResize(i.current,r)!=false)i.applyResize();t.onEndResize&&t.onEndResize(i.current,r);e("body").css("cursor","");i.target.resizable.hide();e(document).unbind("mousemove",i.drag);e(document).unbind("mouseup",i.stop)},applyResize:function(){var e=0;var t=0;if(!isNaN(parseInt(i.target.css("top"))))e=parseInt(i.target.css("top"));if(!isNaN(parseInt(i.target.css("left"))))t=parseInt(i.target.css("left"));if(i.current.diffTop!=undefined){if(i.current.diffTop!=0)i.target.css({top:e+i.current.diffTop});if(i.current.diffLeft!=0)i.target.css({left:t+i.current.diffLeft});i.target.css({width:i.current.newWidth,height:i.current.newHeight})}}};i.target=e(this);i.init();e(">div",i.target).mousedown(function(t){if(!e(this).attr("direction"))return;i.start(t,e(this).attr("direction"));return false})})}})(jQuery);