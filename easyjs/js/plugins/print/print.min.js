(function(e){var t=0;var n={iframe:"iframe",popup:"popup"};var o={mode:n.popup,popTitle:"打印预览",popClose:true,executeDelHtml:null};var r={};e.fn.printArea=function(d){e.extend(r,o,d);t++;var p="printArea_";e("[id^="+p+"]").remove();var s=e(this);r.id=p+t;var u;var h;switch(r.mode){case n.iframe:var m=new c;u=m.doc;h=m.contentWindow||m;break;case n.popup:h=new l(s);u=h.doc}u.open();var f=e('<div class="'+(e(s).attr("class")?e(s).attr("class"):"")+'">'+e(s).html()+"</div>");if(r.executeDelHtml){r.executeDelHtml(f)}u.write("<html>"+a()+'<body style="padding: 20px">'+f.html()+"</body></html>");i().appendTo(e("head",e(u)));u.close();h.focus();h.print();if(r.mode==n.popup&&r.popClose){h.close()}};function i(){return e("style",e(document)).clone()}function a(){var t="<head><title>"+r.popTitle+"</title>";e(document).find("link").filter(function(){return e(this).attr("rel").toLowerCase()=="stylesheet"}).each(function(){t+='<link type="text/css" rel="stylesheet" href="'+e(this).attr("href")+'" >'});t+="</head>";return t}function c(){var t=r.id;var n="border:0;position:absolute;width:0px;height:0px;left:0px;top:0px;";var o;try{o=document.createElement("iframe");document.body.appendChild(o);e(o).attr({style:n,id:t,src:""});o.doc=null;o.doc=o.contentDocument?o.contentDocument:o.contentWindow?o.contentWindow.document:o.document}catch(i){throw i+". iframes may not be supported in this browser."}if(o.doc==null)throw"Cannot find document.";return o}function l(e){var t="location=no,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";t+=",width="+(e.width()+50)+",height="+(e.height()+50);t+=",resizable=yes,screenX=0,screenY=0,personalbar=no,scrollbars=yes";var n=window.open("","_blank",t);n.doc=n.document;return n}})(jQuery);